# Shell scripts for scanning






## Host discovery

```bash
#!/bin/bash

for host in $(seq 1 254); do
	timeout 1 bash -c "ping -c 1 20.20.20.$host &>/dev/null" && echo "[+] HOST - 20.20.20.$host"
done; wait
```



### Ping sweep

for i in $(seq 254); do ping 10.1.2.${i} -c1 -W1 & done | grep from






## Port in subnet

```bash
#!/bin/bash
# Scan port in subnet
# Example Port 80 for IP 30.30.30.1-254

# Maximum number of concurrent checks
MAX_CONCURRENT=50

# Function to check if port 80 is open
check_port() {
  local host=$1
  if timeout 1 bash -c "exec 3<> /dev/tcp/$host/80" &>/dev/null; then
    echo "$host"
  fi
}

# Semaphore to limit the number of concurrent checks
sem() {
  local n
  n=$((n + 1))
  if ((n >= MAX_CONCURRENT)); then
    wait -n
  fi
}

# Main loop to iterate over the IP range
for i in $(seq 1 254); do
  host="30.30.30.$i"
  check_port "$host" &
  sem
done

# Wait for all background jobs to finish
wait
```