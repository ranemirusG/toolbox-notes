#!/bin/bash

# OSCP
# Bash for loop to sweep for hosts with an open port 445 on the /24 subnet. We can use Netcat to make the connections, passing the -z flag to check for a listening port without sending data, -v for verbosity, and -w set to 1 to ensure a lower time-out threshold.


for i in $(seq 1 254); do nc -zv -w 1 172.16.50.$i 445 2>/dev/null; done


for i in $(seq 1 254); do nc -zv -w 1 172.16.168.$i 445 2>&1 | grep -vE 'timed out'; 
done
