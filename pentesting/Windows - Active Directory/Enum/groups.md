# Windows - Active Directory Group Enumeration



Members of `Domain Admin` are localadmin on all workstations joined to the domain.

Group Policies (and Group Policy Preferences) are stored in the SYSVOL share.






```
whoami /groups

net localgroup
net localgroup Administrators

net group /domain
net group [GROUP NAME] /domain
net group "Sales Department" /domain

```

- <https://learn.microsoft.com/en-us/windows-server/identity/ad-ds/manage/understand-security-groups>)








```
Get-LocalGroup
Get-LocalGroup | Format-Table Name, PrincipalSource
get-LocalGroup | ft Name, SID


# List group members
Get-LocalGroupMember -Group "Administrators"
(Get-LocalGroupMember “Administrators”).Name

# Create new group
New-LocalGroup -Name "Group Name"

# Add/Delete user to group
Add-LocalGroupMember -Group "GROUP" -Member "USER"
Remove-LocalGroupMember -Group "GROUP" -Member "USER"
net localgroup "GROUP" "USER" /add # cmd
net localgroup "GROUP" "USER" /delete # cmd






## PowerView

We can use `Get-NetGroup` to enumerate groups:

```
Get-NetGroup
Get-NetGroup | select cn
Get-NetGroup | select samaccountname

Get-NetGroup "Sales Department" | select member
```















